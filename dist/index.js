"use strict";var w=Object.defineProperty;var X=Object.getOwnPropertyDescriptor;var Y=Object.getOwnPropertyNames;var Z=Object.prototype.hasOwnProperty;var ee=(t,e)=>{for(var s in e)w(t,s,{get:e[s],enumerable:!0})},te=(t,e,s,r)=>{if(e&&typeof e=="object"||typeof e=="function")for(let o of Y(e))!Z.call(t,o)&&o!==s&&w(t,o,{get:()=>e[o],enumerable:!(r=X(e,o))||r.enumerable});return t};var se=t=>te(w({},"__esModule",{value:!0}),t);var ie={};ee(ie,{LemonsqueezyClient:()=>B,cancelSubscription:()=>U,createCheckout:()=>y,getUser:()=>T,listAllCheckouts:()=>O,listAllCustomers:()=>v,listAllDiscounts:()=>h,listAllFiles:()=>S,listAllLicenseKeyInstances:()=>I,listAllLicenseKeys:()=>b,listAllOrderItems:()=>k,listAllOrders:()=>C,listAllProducts:()=>q,listAllStores:()=>z,listAllSubscriptions:()=>D,listAllVariants:()=>$,retrieveCheckout:()=>R,retrieveCustomer:()=>L,retrieveDiscount:()=>A,retrieveFile:()=>f,retrieveLicenseKey:()=>K,retrieveLicenseKeyInstance:()=>x,retrieveOrder:()=>P,retrieveOrderItem:()=>_,retrieveProduct:()=>M,retrieveStore:()=>g,retrieveSubscription:()=>V,retrieveVariant:()=>E,updateSubscription:()=>F});module.exports=se(ie);var J=require("undici"),Q=require("path");async function i({apiKey:t,apiVersion:e="v1",baseUrl:s="https://api.lemonsqueezy.com",data:r,headers:o,include:p,method:l="GET",page:u,params:G,path:W}){try{let c=new URL((0,Q.join)(e,W),s);p&&c.searchParams.append("include",p.map(m=>a[m]).join(",")),u&&c.searchParams.append("page",u.toString()),G&&l==="GET"&&Object.entries(G).forEach(([m,n])=>c.searchParams.append(m,n));let d=await(0,J.fetch)(c.href,{headers:{Accept:"application/vnd.api+json",Authorization:`Bearer ${t}`,"Content-Type":"application/vnd.api+json",...o},method:l,...r&&l!=="GET"?{body:JSON.stringify(r)}:{}});if(!d.ok){let m=await d.json();throw{status:d.status,message:d.statusText,errors:m.errors}}let j=await d.json();if(j.errors&&j.errors.length>0)throw j;return j}catch(c){throw c}}var a=(n=>(n.checkouts="checkouts",n.customers="customers",n.discounts="discounts",n.files="files",n.license_key_instances="license-key-instances",n.license_keys="license-keys",n.order_items="order-items",n.orders="orders",n.products="products",n.stores="stores",n.subscriptions="subscriptions",n.subscription_invoices="subscription-invoices",n.users="users",n.variants="variants",n))(a||{});async function y(t){let{checkout_data:e,checkout_options:s,custom_price:r,expires_at:o,product_options:p,store:l,variant:u,...G}=t;return i({data:{data:{attributes:{checkout_data:e,checkout_options:s,custom_price:r,expires_at:o,product_options:p},relationships:{store:{data:{id:l,type:"stores"}},variant:{data:{id:u,type:"variants"}}},type:"checkouts"}},path:"/checkouts",method:"POST",...G})}async function O(t){let{storeId:e,variantId:s,...r}=t;return i({params:{...e?{store_id:e}:{},...s?{variant_id:s}:{}},path:"/checkouts",...r})}async function R(t){let{id:e,...s}=t;return i({path:`/checkouts/${e}`,...s})}async function v(t){let{storeId:e,email:s,...r}=t;return i({params:{...e?{store_id:e}:{},...s?{email:s}:{}},path:"/customers",...r})}async function L(t){let{id:e,...s}=t;return i({path:`/customers/${e}`,...s})}async function h(t){let{storeId:e,...s}=t;return await i({params:{...e?{store_id:e}:{}},path:"/discounts",...s})}async function A(t){let{id:e,...s}=t;return i({path:`/discounts/${e}`,...s})}async function S(t){let{variantId:e,...s}=t;return i({params:{...e?{variant_id:e}:{}},path:"/files",...s})}async function f(t){let{id:e,...s}=t;return i({path:`/files/${e}`,...s})}async function b(t){let{orderId:e,orderItemId:s,productId:r,storeId:o,...p}=t;return i({params:{...e?{order_id:e}:{},...s?{order_item_id:s}:{},...r?{product_id:r}:{},...o?{store_id:o}:{}},path:"/license-keys",...p})}async function K(t){let{id:e,...s}=t;return i({path:`/license-keys/${e}`,...s})}async function I(t){let{licenseKeyId:e,...s}=t;return i({params:{...e?{license_key_id:e}:{}},path:"/license-key-instances",...s})}async function x(t){let{id:e,...s}=t;return i({path:`/license-key-instances/${e}`,...s})}async function C(t){let{storeId:e,userEmail:s,...r}=t;return i({params:{...e?{store_id:e}:{},...s?{user_email:s}:{}},path:"/orders",...r})}async function P(t){let{id:e,...s}=t;return i({path:`/orders/${e}`,...s})}async function k(t){let{orderId:e,productId:s,variantId:r,...o}=t;return i({params:{...e?{order_id:e}:{},...s?{product_id:s}:{},...r?{variant_id:r}:{}},path:"/order-items",...o})}async function _(t){let{id:e,...s}=t;return i({path:`/order-items/${e}`,...s})}async function q(t){let{storeId:e,...s}=t;return i({params:{...e?{store_id:e}:{}},path:"/products",...s})}async function M(t){let{id:e,...s}=t;return i({path:`/products/${e}`,...s})}async function z(t){return i({path:"/stores",...t})}async function g(t){let{id:e,...s}=t;return i({path:`/stores/${e}`,...s})}async function D(t){let{orderId:e,orderItemId:s,productId:r,storeId:o,variantId:p,...l}=t;return i({params:{...e?{order_id:e}:{},...s?{order_item_id:s}:{},...r?{product_id:r}:{},...o?{store_id:o}:{},...p?{variant_id:p}:{}},path:"/subscriptions",...l})}async function V(t){let{id:e,...s}=t;return i({path:`/subscriptions/${e}`,...s})}async function F(t){let{billingAnchor:e,cancelled:s,id:r,pause:o,productId:p,variantId:l,...u}=t;return i({data:{data:{attributes:{billing_anchor:e,cancelled:s,pause:o,product_id:p,variant_id:l},id:r,type:"subscriptions"}},path:`/subscriptions/${r}`,method:"PATCH",...u})}async function U(t){let{id:e,...s}=t;return i({path:`/subscriptions/${e}`,method:"DELETE",...s})}async function N(t){let{refunded:e,status:s,storeId:r,...o}=t;return i({params:{...e?{refunded:e}:{},...s?{status:s}:{},...r?{store_id:r}:{}},path:"/subscription-invoices",...o})}async function H(t){let{id:e,...s}=t;return i({path:`/subscription-invoices/${e}`,...s})}async function T(t){return i({path:"/users/me",...t})}async function $(t){let{productId:e,...s}=t;return i({params:{...e?{product_id:e}:{}},path:"/variants",...s})}async function E(t){let{id:e,...s}=t;return i({path:`/variants/${e}`,...s})}var B=class{_apiKey;constructor(e){this._apiKey=e}async getUser(e={}){return T({apiKey:this._apiKey,...e})}async retrieveStore(e){return g({apiKey:this._apiKey,...e})}async listAllStores(e={}){return z({apiKey:this._apiKey,...e})}async retrieveProduct(e){return M({apiKey:this._apiKey,...e})}async listAllProducts(e={}){return q({apiKey:this._apiKey,...e})}async retrieveVariant(e){return E({apiKey:this._apiKey,...e})}async listAllVariants(e={}){return $({apiKey:this._apiKey,...e})}async retrieveFile(e){return f({apiKey:this._apiKey,...e})}async listAllFiles(e={}){return S({apiKey:this._apiKey,...e})}async retrieveOrder(e){return P({apiKey:this._apiKey,...e})}async listAllOrders(e={}){return C({apiKey:this._apiKey,...e})}async retrieveOrderItem(e){return _({apiKey:this._apiKey,...e})}async listAllOrderItems(e={}){return k({apiKey:this._apiKey,...e})}async retrieveSubscription(e){return V({apiKey:this._apiKey,...e})}async listAllSubscriptions(e={}){return D({apiKey:this._apiKey,...e})}async updateSubscription(e){return F({apiKey:this._apiKey,...e})}async cancelSubscription(e){return U({apiKey:this._apiKey,...e})}async retrieveDiscount(e){return A({apiKey:this._apiKey,...e})}async listAllDiscounts(e={}){return h({apiKey:this._apiKey,...e})}async retrieveLicenseKey(e){return K({apiKey:this._apiKey,...e})}async listAllLicenseKeys(e={}){return b({apiKey:this._apiKey,...e})}async retrieveLicenseKeyInstance(e){return x({apiKey:this._apiKey,...e})}async listAllLicenseKeyInstances(e={}){return I({apiKey:this._apiKey,...e})}async retrieveCheckout(e){return R({apiKey:this._apiKey,...e})}async listAllCheckouts(e={}){return O({apiKey:this._apiKey,...e})}async createCheckout(e){return y({apiKey:this._apiKey,...e})}async retrieveSubscriptionInvoice(e){return H({apiKey:this._apiKey,...e})}async listAllSubscriptionInvoices(e={}){return N({apiKey:this._apiKey,...e})}async retrieveCustomer(e){return L({apiKey:this._apiKey,...e})}async listAllCustomers(e={}){return v({apiKey:this._apiKey,...e})}};0&&(module.exports={LemonsqueezyClient,cancelSubscription,createCheckout,getUser,listAllCheckouts,listAllCustomers,listAllDiscounts,listAllFiles,listAllLicenseKeyInstances,listAllLicenseKeys,listAllOrderItems,listAllOrders,listAllProducts,listAllStores,listAllSubscriptions,listAllVariants,retrieveCheckout,retrieveCustomer,retrieveDiscount,retrieveFile,retrieveLicenseKey,retrieveLicenseKeyInstance,retrieveOrder,retrieveOrderItem,retrieveProduct,retrieveStore,retrieveSubscription,retrieveVariant,updateSubscription});
//# sourceMappingURL=index.js.map