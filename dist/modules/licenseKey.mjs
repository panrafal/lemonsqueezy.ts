import{fetch as O}from"undici";import{join as x}from"node:path";var d=class extends Error{constructor(t,r,o){super(r);this.status=t;this.message=r;this.errors=o;this.name="LemonSqueezyError"}};async function l({apiKey:n,apiVersion:s="v1",baseUrl:t="https://api.lemonsqueezy.com",data:r,headers:o,include:c,method:y="GET",page:L,params:f,path:h}){try{let i=new URL(x(s,h),t);c&&i.searchParams.append("include",c.map(p=>m[p]).join(",")),L&&i.searchParams.append("page",L.toString()),f&&y==="GET"&&Object.entries(f).forEach(([p,e])=>i.searchParams.append(p,e));let a=await O(i.href,{headers:{Accept:"application/vnd.api+json",Authorization:`Bearer ${n}`,"Content-Type":"application/vnd.api+json",...o},method:y,...r&&y!=="GET"?{body:JSON.stringify(r)}:{}});if(!a.ok){let p=await a.json();throw new d(a.status,a.statusText,p.errors)}let u=await a.json();if(u.errors&&u.errors.length>0)throw u;return u}catch(i){throw i}}var m=(e=>(e.checkouts="checkouts",e.customers="customers",e.discounts="discounts",e.files="files",e.license_key_instances="license-key-instances",e.license_keys="license-keys",e.order_items="order-items",e.orders="orders",e.products="products",e.stores="stores",e.subscriptions="subscriptions",e.subscription_invoices="subscription-invoices",e.users="users",e.variants="variants",e))(m||{});async function R(n){let{orderId:s,orderItemId:t,productId:r,storeId:o,...c}=n;return l({params:{...s?{order_id:s}:{},...t?{order_item_id:t}:{},...r?{product_id:r}:{},...o?{store_id:o}:{}},path:"/license-keys",...c})}async function g(n){let{id:s,...t}=n;return l({path:`/license-keys/${s}`,...t})}var B={listAllLicenseKeys:R,retrieveLicenseKey:g};export{B as default,R as listAllLicenseKeys,g as retrieveLicenseKey};
//# sourceMappingURL=licenseKey.mjs.map