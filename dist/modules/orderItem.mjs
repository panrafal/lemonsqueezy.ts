import{fetch as I}from"undici";import{join as x}from"node:path";var m=class extends Error{constructor(s,t,p){super(t);this.status=s;this.message=t;this.errors=p;this.name="LemonSqueezyError"}};async function u({apiKey:n,apiVersion:r="v1",baseUrl:s="https://api.lemonsqueezy.com",data:t,headers:p,include:O,method:l="GET",page:f,params:R,path:h}){try{let o=new URL(x(r,h),s);O&&o.searchParams.append("include",O.map(a=>c[a]).join(",")),f&&o.searchParams.append("page",f.toString()),R&&l==="GET"&&Object.entries(R).forEach(([a,e])=>o.searchParams.append(a,e));let i=await I(o.href,{headers:{Accept:"application/vnd.api+json",Authorization:`Bearer ${n}`,"Content-Type":"application/vnd.api+json",...p},method:l,...t&&l!=="GET"?{body:JSON.stringify(t)}:{}});if(!i.ok){let a=await i.json();throw new m(i.status,i.statusText,a.errors)}let d=await i.json();if(d.errors&&d.errors.length>0)throw d;return d}catch(o){throw o}}var c=(e=>(e.checkouts="checkouts",e.customers="customers",e.discounts="discounts",e.files="files",e.license_key_instances="license-key-instances",e.license_keys="license-keys",e.order_items="order-items",e.orders="orders",e.products="products",e.stores="stores",e.subscriptions="subscriptions",e.subscription_invoices="subscription-invoices",e.users="users",e.variants="variants",e))(c||{});async function g(n){let{orderId:r,productId:s,variantId:t,...p}=n;return u({params:{...r?{order_id:r}:{},...s?{product_id:s}:{},...t?{variant_id:t}:{}},path:"/order-items",...p})}async function y(n){let{id:r,...s}=n;return u({path:`/order-items/${r}`,...s})}var B={listAllOrderItems:g,retrieveOrderItem:y};export{B as default,g as listAllOrderItems,y as retrieveOrderItem};
//# sourceMappingURL=orderItem.mjs.map