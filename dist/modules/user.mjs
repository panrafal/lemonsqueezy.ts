import{fetch as b}from"undici";import{join as x}from"node:path";var a=class extends Error{constructor(d,o,l){super(o);this.status=d;this.message=o;this.errors=l;this.name="LemonSqueezyError"}};async function c({apiKey:n,apiVersion:m="v1",baseUrl:d="https://api.lemonsqueezy.com",data:o,headers:l,include:f,method:u="GET",page:g,params:y,path:R}){try{let s=new URL(x(m,R),d);f&&s.searchParams.append("include",f.map(t=>p[t]).join(",")),g&&s.searchParams.append("page",g.toString()),y&&u==="GET"&&Object.entries(y).forEach(([t,e])=>s.searchParams.append(t,e));let r=await b(s.href,{headers:{Accept:"application/vnd.api+json",Authorization:`Bearer ${n}`,"Content-Type":"application/vnd.api+json",...l},method:u,...o&&u!=="GET"?{body:JSON.stringify(o)}:{}});if(!r.ok){let t=await r.json();throw new a(r.status,r.statusText,t.errors)}let i=await r.json();if(i.errors&&i.errors.length>0)throw i;return i}catch(s){throw s}}var p=(e=>(e.checkouts="checkouts",e.customers="customers",e.discounts="discounts",e.files="files",e.license_key_instances="license-key-instances",e.license_keys="license-keys",e.order_items="order-items",e.orders="orders",e.products="products",e.stores="stores",e.subscriptions="subscriptions",e.subscription_invoices="subscription-invoices",e.users="users",e.variants="variants",e))(p||{});async function h(n){return c({path:"/users/me",...n})}var B={getUser:h};export{B as default,h as getUser};
//# sourceMappingURL=user.mjs.map