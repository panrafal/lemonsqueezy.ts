"use strict";var f=Object.defineProperty;var b=Object.getOwnPropertyDescriptor;var v=Object.getOwnPropertyNames;var A=Object.prototype.hasOwnProperty;var S=(t,e)=>{for(var r in e)f(t,r,{get:e[r],enumerable:!0})},T=(t,e,r,n)=>{if(e&&typeof e=="object"||typeof e=="function")for(let o of v(e))!A.call(t,o)&&o!==r&&f(t,o,{get:()=>e[o],enumerable:!(n=b(e,o))||n.enumerable});return t};var q=t=>T(f({},"__esModule",{value:!0}),t);var E={};S(E,{default:()=>k,listAllProducts:()=>P,retrieveProduct:()=>R});module.exports=q(E);var O=require("undici"),x=require("path");var c=class extends Error{constructor(r,n,o){super(n);this.status=r;this.message=n;this.errors=o;this.name="LemonSqueezyError"}};async function d({apiKey:t,apiVersion:e="v1",baseUrl:r="https://api.lemonsqueezy.com",data:n,headers:o,include:g,method:m="GET",page:y,params:h,path:L}){try{let i=new URL((0,x.join)(e,L),r);g&&i.searchParams.append("include",g.map(u=>l[u]).join(",")),y&&i.searchParams.append("page",y.toString()),h&&m==="GET"&&Object.entries(h).forEach(([u,s])=>i.searchParams.append(u,s));let a=await(0,O.fetch)(i.href,{headers:{Accept:"application/vnd.api+json",Authorization:`Bearer ${t}`,"Content-Type":"application/vnd.api+json",...o},method:m,...n&&m!=="GET"?{body:JSON.stringify(n)}:{}});if(!a.ok){let u=await a.json();throw new c(a.status,a.statusText,u.errors)}let p=await a.json();if(p.errors&&p.errors.length>0)throw p;return p}catch(i){throw i}}var l=(s=>(s.checkouts="checkouts",s.customers="customers",s.discounts="discounts",s.files="files",s.license_key_instances="license-key-instances",s.license_keys="license-keys",s.order_items="order-items",s.orders="orders",s.products="products",s.stores="stores",s.subscriptions="subscriptions",s.subscription_invoices="subscription-invoices",s.users="users",s.variants="variants",s))(l||{});async function P(t){let{storeId:e,...r}=t;return d({params:{...e?{store_id:e}:{}},path:"/products",...r})}async function R(t){let{id:e,...r}=t;return d({path:`/products/${e}`,...r})}var k={listAllProducts:P,retrieveProduct:R};0&&(module.exports={listAllProducts,retrieveProduct});
//# sourceMappingURL=product.js.map