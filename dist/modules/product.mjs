import{fetch as O}from"undici";import{join as x}from"node:path";var p=class extends Error{constructor(r,a,m){super(a);this.status=r;this.message=a;this.errors=m;this.name="LemonSqueezyError"}};async function c({apiKey:t,apiVersion:s="v1",baseUrl:r="https://api.lemonsqueezy.com",data:a,headers:m,include:f,method:l="GET",page:P,params:R,path:h}){try{let o=new URL(x(s,h),r);f&&o.searchParams.append("include",f.map(i=>d[i]).join(",")),P&&o.searchParams.append("page",P.toString()),R&&l==="GET"&&Object.entries(R).forEach(([i,e])=>o.searchParams.append(i,e));let n=await O(o.href,{headers:{Accept:"application/vnd.api+json",Authorization:`Bearer ${t}`,"Content-Type":"application/vnd.api+json",...m},method:l,...a&&l!=="GET"?{body:JSON.stringify(a)}:{}});if(!n.ok){let i=await n.json();throw new p(n.status,n.statusText,i.errors)}let u=await n.json();if(u.errors&&u.errors.length>0)throw u;return u}catch(o){throw o}}var d=(e=>(e.checkouts="checkouts",e.customers="customers",e.discounts="discounts",e.files="files",e.license_key_instances="license-key-instances",e.license_keys="license-keys",e.order_items="order-items",e.orders="orders",e.products="products",e.stores="stores",e.subscriptions="subscriptions",e.subscription_invoices="subscription-invoices",e.users="users",e.variants="variants",e))(d||{});async function g(t){let{storeId:s,...r}=t;return c({params:{...s?{store_id:s}:{}},path:"/products",...r})}async function y(t){let{id:s,...r}=t;return c({path:`/products/${s}`,...r})}var j={listAllProducts:g,retrieveProduct:y};export{j as default,g as listAllProducts,y as retrieveProduct};
//# sourceMappingURL=product.mjs.map