import{fetch as y}from"undici";import{join as h}from"node:path";var u=class extends Error{constructor(t,r,a){super(r);this.status=t;this.message=r;this.errors=a;this.name="LemonSqueezyError"}};async function l({apiKey:i,apiVersion:s="v1",baseUrl:t="https://api.lemonsqueezy.com",data:r,headers:a,include:b,method:d="GET",page:v,params:f,path:g}){try{let n=new URL(h(s,g),t);b&&n.searchParams.append("include",b.map(p=>m[p]).join(",")),v&&n.searchParams.append("page",v.toString()),f&&d==="GET"&&Object.entries(f).forEach(([p,e])=>n.searchParams.append(p,e));let o=await y(n.href,{headers:{Accept:"application/vnd.api+json",Authorization:`Bearer ${i}`,"Content-Type":"application/vnd.api+json",...a},method:d,...r&&d!=="GET"?{body:JSON.stringify(r)}:{}});if(!o.ok){let p=await o.json();throw new u(o.status,o.statusText,p.errors)}let c=await o.json();if(c.errors&&c.errors.length>0)throw c;return c}catch(n){throw n}}var m=(e=>(e.checkouts="checkouts",e.customers="customers",e.discounts="discounts",e.files="files",e.license_key_instances="license-key-instances",e.license_keys="license-keys",e.order_items="order-items",e.orders="orders",e.products="products",e.stores="stores",e.subscriptions="subscriptions",e.subscription_invoices="subscription-invoices",e.users="users",e.variants="variants",e))(m||{});async function R(i){let{refunded:s,status:t,storeId:r,...a}=i;return l({params:{...s?{refunded:s}:{},...t?{status:t}:{},...r?{store_id:r}:{}},path:"/subscription-invoices",...a})}async function S(i){let{id:s,...t}=i;return l({path:`/subscription-invoices/${s}`,...t})}var B={listAllSubscriptionInvoices:R,retrieveSubscriptionInvoice:S};export{B as default,R as listAllSubscriptionInvoices,S as retrieveSubscriptionInvoice};
//# sourceMappingURL=subscriptionInvoice.mjs.map