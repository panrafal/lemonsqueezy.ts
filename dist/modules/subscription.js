"use strict";var S=Object.defineProperty;var v=Object.getOwnPropertyDescriptor;var x=Object.getOwnPropertyNames;var A=Object.prototype.hasOwnProperty;var P=(t,e)=>{for(var r in e)S(t,r,{get:e[r],enumerable:!0})},T=(t,e,r,o)=>{if(e&&typeof e=="object"||typeof e=="function")for(let i of x(e))!A.call(t,i)&&i!==r&&S(t,i,{get:()=>e[i],enumerable:!(o=v(e,i))||o.enumerable});return t};var q=t=>T(S({},"__esModule",{value:!0}),t);var k={};P(k,{default:()=>_,listAllSubscriptions:()=>f,retrieveSubscription:()=>R,updateSubscription:()=>h});module.exports=q(k);var g=require("undici"),O=require("path");async function d({apiKey:t,apiVersion:e="v1",baseUrl:r="https://api.lemonsqueezy.com",data:o,headers:i,include:n,method:p="GET",page:m,params:y,path:L}){try{let a=new URL((0,O.join)(e,L),r);n&&a.searchParams.append("include",n.map(c=>l[c]).join(",")),m&&a.searchParams.append("page",m.toString()),y&&p==="GET"&&Object.entries(y).forEach(([c,s])=>a.searchParams.append(c,s));let u=await(0,g.fetch)(a.href,{headers:{Accept:"application/vnd.api+json",Authorization:`Bearer ${t}`,"Content-Type":"application/vnd.api+json",...i},method:p,...o&&p!=="GET"?{body:JSON.stringify(o)}:{}});if(!u.ok){let c=await u.json();throw{status:u.status,message:u.statusText,errors:c.errors}}let b=await u.json();if(b.errors&&b.errors.length>0)throw b;return b}catch(a){throw a}}var l=(s=>(s.checkouts="checkouts",s.customers="customers",s.discounts="discounts",s.files="files",s.license_key_instances="license-key-instances",s.license_keys="license-keys",s.order_items="order-items",s.orders="orders",s.products="products",s.stores="stores",s.subscriptions="subscriptions",s.subscription_invoices="subscription-invoices",s.users="users",s.variants="variants",s))(l||{});async function f(t){let{orderId:e,orderItemId:r,productId:o,storeId:i,variantId:n,...p}=t;return d({params:{...e?{order_id:e}:{},...r?{order_item_id:r}:{},...o?{product_id:o}:{},...i?{store_id:i}:{},...n?{variant_id:n}:{}},path:"/subscriptions",...p})}async function R(t){let{id:e,...r}=t;return d({path:`/subscriptions/${e}`,...r})}async function h(t){let{billingAnchor:e,cancelled:r,id:o,pause:i,productId:n,variantId:p,...m}=t;return d({data:{data:{attributes:{billing_anchor:e,cancelled:r,pause:i,product_id:n,variant_id:p},id:o,type:"subscriptions"}},path:`/subscriptions/${o}`,method:"PATCH",...m})}var _={listAllSubscriptions:f,retrieveSubscription:R,updateSubscription:h};0&&(module.exports={listAllSubscriptions,retrieveSubscription,updateSubscription});
//# sourceMappingURL=subscription.js.map