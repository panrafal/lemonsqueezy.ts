"use strict";var O=Object.defineProperty;var v=Object.getOwnPropertyDescriptor;var A=Object.getOwnPropertyNames;var P=Object.prototype.hasOwnProperty;var S=(s,e)=>{for(var t in e)O(s,t,{get:e[t],enumerable:!0})},T=(s,e,t,n)=>{if(e&&typeof e=="object"||typeof e=="function")for(let o of A(e))!P.call(s,o)&&o!==t&&O(s,o,{get:()=>e[o],enumerable:!(n=v(e,o))||n.enumerable});return s};var q=s=>T(O({},"__esModule",{value:!0}),s);var k={};S(k,{default:()=>E,listAllOrders:()=>f,retrieveOrder:()=>R});module.exports=q(k);var x=require("undici"),L=require("path");var u=class extends Error{constructor(t,n,o){super(n);this.status=t;this.message=n;this.errors=o;this.name="LemonSqueezyError"}};async function c({apiKey:s,apiVersion:e="v1",baseUrl:t="https://api.lemonsqueezy.com",data:n,headers:o,include:g,method:m="GET",page:y,params:h,path:b}){try{let i=new URL((0,L.join)(e,b),t);g&&i.searchParams.append("include",g.map(p=>l[p]).join(",")),y&&i.searchParams.append("page",y.toString()),h&&m==="GET"&&Object.entries(h).forEach(([p,r])=>i.searchParams.append(p,r));let a=await(0,x.fetch)(i.href,{headers:{Accept:"application/vnd.api+json",Authorization:`Bearer ${s}`,"Content-Type":"application/vnd.api+json",...o},method:m,...n&&m!=="GET"?{body:JSON.stringify(n)}:{}});if(!a.ok){let p=await a.json();throw new u(a.status,a.statusText,p.errors)}let d=await a.json();if(d.errors&&d.errors.length>0)throw d;return d}catch(i){throw i}}var l=(r=>(r.checkouts="checkouts",r.customers="customers",r.discounts="discounts",r.files="files",r.license_key_instances="license-key-instances",r.license_keys="license-keys",r.order_items="order-items",r.orders="orders",r.products="products",r.stores="stores",r.subscriptions="subscriptions",r.subscription_invoices="subscription-invoices",r.users="users",r.variants="variants",r))(l||{});async function f(s){let{storeId:e,userEmail:t,...n}=s;return c({params:{...e?{store_id:e}:{},...t?{user_email:t}:{}},path:"/orders",...n})}async function R(s){let{id:e,...t}=s;return c({path:`/orders/${e}`,...t})}var E={listAllOrders:f,retrieveOrder:R};0&&(module.exports={listAllOrders,retrieveOrder});
//# sourceMappingURL=order.js.map