"use strict";var O=Object.defineProperty;var Q=Object.getOwnPropertyDescriptor;var W=Object.getOwnPropertyNames;var X=Object.prototype.hasOwnProperty;var Y=(t,e)=>{for(var s in e)O(t,s,{get:e[s],enumerable:!0})},Z=(t,e,s,o)=>{if(e&&typeof e=="object"||typeof e=="function")for(let i of W(e))!X.call(t,i)&&i!==s&&O(t,i,{get:()=>e[i],enumerable:!(o=Q(e,i))||o.enumerable});return t};var ee=t=>Z(O({},"__esModule",{value:!0}),t);var te={};Y(te,{createCheckout:()=>f,getUser:()=>w,listAllCheckouts:()=>h,listAllCustomers:()=>A,listAllDiscounts:()=>I,listAllFiles:()=>P,listAllLicenseKeyInstances:()=>M,listAllLicenseKeys:()=>q,listAllOrderItems:()=>g,listAllOrders:()=>K,listAllProducts:()=>T,listAllStores:()=>V,listAllSubscriptionInvoices:()=>G,listAllSubscriptions:()=>$,listAllVariants:()=>N,retrieveCheckout:()=>S,retrieveCustomer:()=>x,retrieveDiscount:()=>b,retrieveFile:()=>C,retrieveLicenseKey:()=>k,retrieveLicenseKeyInstance:()=>z,retrieveOrder:()=>_,retrieveOrderItem:()=>D,retrieveProduct:()=>U,retrieveStore:()=>F,retrieveSubscription:()=>B,retrieveSubscriptionInvoice:()=>j,retrieveVariant:()=>H,updateSubscription:()=>E});module.exports=ee(te);var L=require("undici"),v=require("path");async function r({apiKey:t,apiVersion:e="v1",baseUrl:s="https://api.lemonsqueezy.com",data:o,headers:i,include:p,method:u="GET",page:l,params:R,path:J}){try{let c=new URL((0,v.join)(e,J),s);p&&c.searchParams.append("include",p.map(m=>a[m]).join(",")),l&&c.searchParams.append("page",l.toString()),R&&u==="GET"&&Object.entries(R).forEach(([m,n])=>c.searchParams.append(m,n));let d=await(0,L.fetch)(c.href,{headers:{Accept:"application/vnd.api+json",Authorization:`Bearer ${t}`,"Content-Type":"application/vnd.api+json",...i},method:u,...o&&u!=="GET"?{body:JSON.stringify(o)}:{}});if(!d.ok){let m=await d.json();throw{status:d.status,message:d.statusText,errors:m.errors}}let y=await d.json();if(y.errors&&y.errors.length>0)throw y;return y}catch(c){throw c}}var a=(n=>(n.checkouts="checkouts",n.customers="customers",n.discounts="discounts",n.files="files",n.license_key_instances="license-key-instances",n.license_keys="license-keys",n.order_items="order-items",n.orders="orders",n.products="products",n.stores="stores",n.subscriptions="subscriptions",n.subscription_invoices="subscription-invoices",n.users="users",n.variants="variants",n))(a||{});async function f(t){let{checkout_data:e,checkout_options:s,custom_price:o,expires_at:i,product_options:p,store:u,variant:l,...R}=t;return r({data:{data:{attributes:{checkout_data:e,checkout_options:s,custom_price:o,expires_at:i,product_options:p},relationships:{store:{data:{id:u,type:"stores"}},variant:{data:{id:l,type:"variants"}}},type:"checkouts"}},path:"/checkouts",method:"POST",...R})}async function h(t){let{storeId:e,variantId:s,...o}=t;return r({params:{...e?{store_id:e}:{},...s?{variant_id:s}:{}},path:"/checkouts",...o})}async function S(t){let{id:e,...s}=t;return r({path:`/checkouts/${e}`,...s})}async function A(t){let{storeId:e,email:s,...o}=t;return r({params:{...e?{store_id:e}:{},...s?{email:s}:{}},path:"/customers",...o})}async function x(t){let{id:e,...s}=t;return r({path:`/customers/${e}`,...s})}async function I(t){let{storeId:e,...s}=t;return await r({params:{...e?{store_id:e}:{}},path:"/discounts",...s})}async function b(t){let{id:e,...s}=t;return r({path:`/discounts/${e}`,...s})}async function P(t){let{variantId:e,...s}=t;return r({params:{...e?{variant_id:e}:{}},path:"/files",...s})}async function C(t){let{id:e,...s}=t;return r({path:`/files/${e}`,...s})}async function q(t){let{orderId:e,orderItemId:s,productId:o,storeId:i,...p}=t;return r({params:{...e?{order_id:e}:{},...s?{order_item_id:s}:{},...o?{product_id:o}:{},...i?{store_id:i}:{}},path:"/license-keys",...p})}async function k(t){let{id:e,...s}=t;return r({path:`/license-keys/${e}`,...s})}async function M(t){let{licenseKeyId:e,...s}=t;return r({params:{...e?{license_key_id:e}:{}},path:"/license-key-instances",...s})}async function z(t){let{id:e,...s}=t;return r({path:`/license-key-instances/${e}`,...s})}async function K(t){let{storeId:e,userEmail:s,...o}=t;return r({params:{...e?{store_id:e}:{},...s?{user_email:s}:{}},path:"/orders",...o})}async function _(t){let{id:e,...s}=t;return r({path:`/orders/${e}`,...s})}async function g(t){let{orderId:e,productId:s,variantId:o,...i}=t;return r({params:{...e?{order_id:e}:{},...s?{product_id:s}:{},...o?{variant_id:o}:{}},path:"/order-items",...i})}async function D(t){let{id:e,...s}=t;return r({path:`/order-items/${e}`,...s})}async function T(t){let{storeId:e,...s}=t;return r({params:{...e?{store_id:e}:{}},path:"/products",...s})}async function U(t){let{id:e,...s}=t;return r({path:`/products/${e}`,...s})}async function V(t){return r({path:"/stores",...t})}async function F(t){let{id:e,...s}=t;return r({path:`/stores/${e}`,...s})}async function $(t){let{orderId:e,orderItemId:s,productId:o,storeId:i,variantId:p,...u}=t;return r({params:{...e?{order_id:e}:{},...s?{order_item_id:s}:{},...o?{product_id:o}:{},...i?{store_id:i}:{},...p?{variant_id:p}:{}},path:"/subscriptions",...u})}async function B(t){let{id:e,...s}=t;return r({path:`/subscriptions/${e}`,...s})}async function E(t){let{billingAnchor:e,cancelled:s,id:o,pause:i,productId:p,variantId:u,...l}=t;return r({data:{data:{attributes:{billing_anchor:e,cancelled:s,pause:i,product_id:p,variant_id:u},id:o,type:"subscriptions"}},path:`/subscriptions/${o}`,method:"PATCH",...l})}async function G(t){let{refunded:e,status:s,storeId:o,...i}=t;return r({params:{...e?{refunded:e}:{},...s?{status:s}:{},...o?{store_id:o}:{}},path:"/subscription-invoices",...i})}async function j(t){let{id:e,...s}=t;return r({path:`/subscription-invoices/${e}`,...s})}async function w(t){return r({path:"/users/me",...t})}async function N(t){let{productId:e,...s}=t;return r({params:{...e?{product_id:e}:{}},path:"/variants",...s})}async function H(t){let{id:e,...s}=t;return r({path:`/variants/${e}`,...s})}0&&(module.exports={createCheckout,getUser,listAllCheckouts,listAllCustomers,listAllDiscounts,listAllFiles,listAllLicenseKeyInstances,listAllLicenseKeys,listAllOrderItems,listAllOrders,listAllProducts,listAllStores,listAllSubscriptionInvoices,listAllSubscriptions,listAllVariants,retrieveCheckout,retrieveCustomer,retrieveDiscount,retrieveFile,retrieveLicenseKey,retrieveLicenseKeyInstance,retrieveOrder,retrieveOrderItem,retrieveProduct,retrieveStore,retrieveSubscription,retrieveSubscriptionInvoice,retrieveVariant,updateSubscription});
//# sourceMappingURL=index.js.map