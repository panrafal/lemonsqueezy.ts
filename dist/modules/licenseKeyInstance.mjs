import{fetch as O}from"undici";import{join as I}from"node:path";var p=class extends Error{constructor(t,a,d){super(a);this.status=t;this.message=a;this.errors=d;this.name="LemonSqueezyError"}};async function u({apiKey:n,apiVersion:s="v1",baseUrl:t="https://api.lemonsqueezy.com",data:a,headers:d,include:y,method:m="GET",page:L,params:f,path:h}){try{let r=new URL(I(s,h),t);y&&r.searchParams.append("include",y.map(o=>l[o]).join(",")),L&&r.searchParams.append("page",L.toString()),f&&m==="GET"&&Object.entries(f).forEach(([o,e])=>r.searchParams.append(o,e));let i=await O(r.href,{headers:{Accept:"application/vnd.api+json",Authorization:`Bearer ${n}`,"Content-Type":"application/vnd.api+json",...d},method:m,...a&&m!=="GET"?{body:JSON.stringify(a)}:{}});if(!i.ok){let o=await i.json();throw new p(i.status,i.statusText,o.errors)}let c=await i.json();if(c.errors&&c.errors.length>0)throw c;return c}catch(r){throw r}}var l=(e=>(e.checkouts="checkouts",e.customers="customers",e.discounts="discounts",e.files="files",e.license_key_instances="license-key-instances",e.license_keys="license-keys",e.order_items="order-items",e.orders="orders",e.products="products",e.stores="stores",e.subscriptions="subscriptions",e.subscription_invoices="subscription-invoices",e.users="users",e.variants="variants",e))(l||{});async function R(n){let{licenseKeyId:s,...t}=n;return u({params:{...s?{license_key_id:s}:{}},path:"/license-key-instances",...t})}async function g(n){let{id:s,...t}=n;return u({path:`/license-key-instances/${s}`,...t})}var z={listAllLicenseKeyInstances:R,retrieveLicenseKeyInstance:g};export{z as default,R as listAllLicenseKeyInstances,g as retrieveLicenseKeyInstance};
//# sourceMappingURL=licenseKeyInstance.mjs.map