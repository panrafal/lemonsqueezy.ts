"use strict";var L=Object.defineProperty;var K=Object.getOwnPropertyDescriptor;var v=Object.getOwnPropertyNames;var A=Object.prototype.hasOwnProperty;var P=(t,e)=>{for(var r in e)L(t,r,{get:e[r],enumerable:!0})},S=(t,e,r,i)=>{if(e&&typeof e=="object"||typeof e=="function")for(let n of v(e))!A.call(t,n)&&n!==r&&L(t,n,{get:()=>e[n],enumerable:!(i=K(e,n))||i.enumerable});return t};var T=t=>S(L({},"__esModule",{value:!0}),t);var k={};P(k,{default:()=>q,listAllLicenseKeys:()=>f,retrieveLicenseKey:()=>R});module.exports=T(k);var O=require("undici"),x=require("path");var d=class extends Error{constructor(r,i,n){super(i);this.status=r;this.message=i;this.errors=n;this.name="LemonSqueezyError"}};async function l({apiKey:t,apiVersion:e="v1",baseUrl:r="https://api.lemonsqueezy.com",data:i,headers:n,include:c,method:y="GET",page:g,params:h,path:b}){try{let o=new URL((0,x.join)(e,b),r);c&&o.searchParams.append("include",c.map(p=>m[p]).join(",")),g&&o.searchParams.append("page",g.toString()),h&&y==="GET"&&Object.entries(h).forEach(([p,s])=>o.searchParams.append(p,s));let a=await(0,O.fetch)(o.href,{headers:{Accept:"application/vnd.api+json",Authorization:`Bearer ${t}`,"Content-Type":"application/vnd.api+json",...n},method:y,...i&&y!=="GET"?{body:JSON.stringify(i)}:{}});if(!a.ok){let p=await a.json();throw new d(a.status,a.statusText,p.errors)}let u=await a.json();if(u.errors&&u.errors.length>0)throw u;return u}catch(o){throw o}}var m=(s=>(s.checkouts="checkouts",s.customers="customers",s.discounts="discounts",s.files="files",s.license_key_instances="license-key-instances",s.license_keys="license-keys",s.order_items="order-items",s.orders="orders",s.products="products",s.stores="stores",s.subscriptions="subscriptions",s.subscription_invoices="subscription-invoices",s.users="users",s.variants="variants",s))(m||{});async function f(t){let{orderId:e,orderItemId:r,productId:i,storeId:n,...c}=t;return l({params:{...e?{order_id:e}:{},...r?{order_item_id:r}:{},...i?{product_id:i}:{},...n?{store_id:n}:{}},path:"/license-keys",...c})}async function R(t){let{id:e,...r}=t;return l({path:`/license-keys/${e}`,...r})}var q={listAllLicenseKeys:f,retrieveLicenseKey:R};0&&(module.exports={listAllLicenseKeys,retrieveLicenseKey});
//# sourceMappingURL=licenseKey.js.map