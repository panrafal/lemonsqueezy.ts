"use strict";var y=Object.defineProperty;var v=Object.getOwnPropertyDescriptor;var b=Object.getOwnPropertyNames;var q=Object.prototype.hasOwnProperty;var P=(t,e)=>{for(var r in e)y(t,r,{get:e[r],enumerable:!0})},A=(t,e,r,o)=>{if(e&&typeof e=="object"||typeof e=="function")for(let n of b(e))!q.call(t,n)&&n!==r&&y(t,n,{get:()=>e[n],enumerable:!(o=v(e,n))||o.enumerable});return t};var S=t=>A(y({},"__esModule",{value:!0}),t);var z={};P(z,{createCheckout:()=>R,default:()=>T,listAllCheckouts:()=>f,retrieveCheckout:()=>g});module.exports=S(z);var O=require("undici"),L=require("path");var C=class extends Error{constructor(r,o,n){super(o);this.status=r;this.message=o;this.errors=n;this.name="LemonSqueezyError"}};async function p({apiKey:t,apiVersion:e="v1",baseUrl:r="https://api.lemonsqueezy.com",data:o,headers:n,include:h,method:a="GET",page:l,params:m,path:x}){try{let i=new URL((0,L.join)(e,x),r);h&&i.searchParams.append("include",h.map(c=>d[c]).join(",")),l&&i.searchParams.append("page",l.toString()),m&&a==="GET"&&Object.entries(m).forEach(([c,s])=>i.searchParams.append(c,s));let u=await(0,O.fetch)(i.href,{headers:{Accept:"application/vnd.api+json",Authorization:`Bearer ${t}`,"Content-Type":"application/vnd.api+json",...n},method:a,...o&&a!=="GET"?{body:JSON.stringify(o)}:{}});if(!u.ok){let c=await u.json();throw new C(u.status,u.statusText,c.errors)}let k=await u.json();if(k.errors&&k.errors.length>0)throw k;return k}catch(i){throw i}}var d=(s=>(s.checkouts="checkouts",s.customers="customers",s.discounts="discounts",s.files="files",s.license_key_instances="license-key-instances",s.license_keys="license-keys",s.order_items="order-items",s.orders="orders",s.products="products",s.stores="stores",s.subscriptions="subscriptions",s.subscription_invoices="subscription-invoices",s.users="users",s.variants="variants",s))(d||{});async function R(t){let{checkout_data:e,checkout_options:r,custom_price:o,expires_at:n,product_options:h,store:a,variant:l,...m}=t;return p({data:{data:{attributes:{checkout_data:e,checkout_options:r,custom_price:o,expires_at:n,product_options:h},relationships:{store:{data:{id:a,type:"stores"}},variant:{data:{id:l,type:"variants"}}},type:"checkouts"}},path:"/checkouts",method:"POST",...m})}async function f(t){let{storeId:e,variantId:r,...o}=t;return p({params:{...e?{store_id:e}:{},...r?{variant_id:r}:{}},path:"/checkouts",...o})}async function g(t){let{id:e,...r}=t;return p({path:`/checkouts/${e}`,...r})}var T={createCheckout:R,listAllCheckouts:f,retrieveCheckout:g};0&&(module.exports={createCheckout,listAllCheckouts,retrieveCheckout});
//# sourceMappingURL=checkout.js.map