import{fetch as L}from"undici";import{join as v}from"node:path";async function r({apiKey:s,apiVersion:e="v1",baseUrl:t="https://api.lemonsqueezy.com",data:o,headers:n,include:p,method:u="GET",page:l,params:R,path:O}){try{let c=new URL(v(e,O),t);p&&c.searchParams.append("include",p.map(m=>a[m]).join(",")),l&&c.searchParams.append("page",l.toString()),R&&u==="GET"&&Object.entries(R).forEach(([m,i])=>c.searchParams.append(m,i));let d=await L(c.href,{headers:{Accept:"application/vnd.api+json",Authorization:`Bearer ${s}`,"Content-Type":"application/vnd.api+json",...n},method:u,...o&&u!=="GET"?{body:JSON.stringify(o)}:{}});if(!d.ok){let m=await d.json();throw{status:d.status,message:d.statusText,errors:m.errors}}let y=await d.json();if(y.errors&&y.errors.length>0)throw y;return y}catch(c){throw c}}var a=(i=>(i.checkouts="checkouts",i.customers="customers",i.discounts="discounts",i.files="files",i.license_key_instances="license-key-instances",i.license_keys="license-keys",i.order_items="order-items",i.orders="orders",i.products="products",i.stores="stores",i.subscriptions="subscriptions",i.subscription_invoices="subscription-invoices",i.users="users",i.variants="variants",i))(a||{});async function f(s){let{checkout_data:e,checkout_options:t,custom_price:o,expires_at:n,product_options:p,store:u,variant:l,...R}=s;return r({data:{data:{attributes:{checkout_data:e,checkout_options:t,custom_price:o,expires_at:n,product_options:p},relationships:{store:{data:{id:u,type:"stores"}},variant:{data:{id:l,type:"variants"}}},type:"checkouts"}},path:"/checkouts",method:"POST",...R})}async function h(s){let{storeId:e,variantId:t,...o}=s;return r({params:{...e?{store_id:e}:{},...t?{variant_id:t}:{}},path:"/checkouts",...o})}async function S(s){let{id:e,...t}=s;return r({path:`/checkouts/${e}`,...t})}async function A(s){let{storeId:e,email:t,...o}=s;return r({params:{...e?{store_id:e}:{},...t?{email:t}:{}},path:"/customers",...o})}async function x(s){let{id:e,...t}=s;return r({path:`/customers/${e}`,...t})}async function I(s){let{storeId:e,...t}=s;return await r({params:{...e?{store_id:e}:{}},path:"/discounts",...t})}async function b(s){let{id:e,...t}=s;return r({path:`/discounts/${e}`,...t})}async function P(s){let{variantId:e,...t}=s;return r({params:{...e?{variant_id:e}:{}},path:"/files",...t})}async function C(s){let{id:e,...t}=s;return r({path:`/files/${e}`,...t})}async function q(s){let{orderId:e,orderItemId:t,productId:o,storeId:n,...p}=s;return r({params:{...e?{order_id:e}:{},...t?{order_item_id:t}:{},...o?{product_id:o}:{},...n?{store_id:n}:{}},path:"/license-keys",...p})}async function k(s){let{id:e,...t}=s;return r({path:`/license-keys/${e}`,...t})}async function M(s){let{licenseKeyId:e,...t}=s;return r({params:{...e?{license_key_id:e}:{}},path:"/license-key-instances",...t})}async function z(s){let{id:e,...t}=s;return r({path:`/license-key-instances/${e}`,...t})}async function K(s){let{storeId:e,userEmail:t,...o}=s;return r({params:{...e?{store_id:e}:{},...t?{user_email:t}:{}},path:"/orders",...o})}async function _(s){let{id:e,...t}=s;return r({path:`/orders/${e}`,...t})}async function g(s){let{orderId:e,productId:t,variantId:o,...n}=s;return r({params:{...e?{order_id:e}:{},...t?{product_id:t}:{},...o?{variant_id:o}:{}},path:"/order-items",...n})}async function D(s){let{id:e,...t}=s;return r({path:`/order-items/${e}`,...t})}async function T(s){let{storeId:e,...t}=s;return r({params:{...e?{store_id:e}:{}},path:"/products",...t})}async function U(s){let{id:e,...t}=s;return r({path:`/products/${e}`,...t})}async function V(s){return r({path:"/stores",...s})}async function F(s){let{id:e,...t}=s;return r({path:`/stores/${e}`,...t})}async function $(s){let{orderId:e,orderItemId:t,productId:o,storeId:n,variantId:p,...u}=s;return r({params:{...e?{order_id:e}:{},...t?{order_item_id:t}:{},...o?{product_id:o}:{},...n?{store_id:n}:{},...p?{variant_id:p}:{}},path:"/subscriptions",...u})}async function B(s){let{id:e,...t}=s;return r({path:`/subscriptions/${e}`,...t})}async function E(s){let{billingAnchor:e,cancelled:t,id:o,pause:n,productId:p,variantId:u,...l}=s;return r({data:{data:{attributes:{billing_anchor:e,cancelled:t,pause:n,product_id:p,variant_id:u},id:o,type:"subscriptions"}},path:`/subscriptions/${o}`,method:"PATCH",...l})}async function G(s){let{refunded:e,status:t,storeId:o,...n}=s;return r({params:{...e?{refunded:e}:{},...t?{status:t}:{},...o?{store_id:o}:{}},path:"/subscription-invoices",...n})}async function j(s){let{id:e,...t}=s;return r({path:`/subscription-invoices/${e}`,...t})}async function w(s){return r({path:"/users/me",...s})}async function N(s){let{productId:e,...t}=s;return r({params:{...e?{product_id:e}:{}},path:"/variants",...t})}async function H(s){let{id:e,...t}=s;return r({path:`/variants/${e}`,...t})}export{f as createCheckout,w as getUser,h as listAllCheckouts,A as listAllCustomers,I as listAllDiscounts,P as listAllFiles,M as listAllLicenseKeyInstances,q as listAllLicenseKeys,g as listAllOrderItems,K as listAllOrders,T as listAllProducts,V as listAllStores,G as listAllSubscriptionInvoices,$ as listAllSubscriptions,N as listAllVariants,S as retrieveCheckout,x as retrieveCustomer,b as retrieveDiscount,C as retrieveFile,k as retrieveLicenseKey,z as retrieveLicenseKeyInstance,_ as retrieveOrder,D as retrieveOrderItem,U as retrieveProduct,F as retrieveStore,B as retrieveSubscription,j as retrieveSubscriptionInvoice,H as retrieveVariant,E as updateSubscription};
//# sourceMappingURL=index.mjs.map